<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P≈ôihl√°≈°en√≠ - Quiz App</title>
    <link rel="stylesheet" href="../../shared/common.css">
    <link rel="stylesheet" href="login.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-header">
            <h1>üéØ Quiz App</h1>
            <p>Modul√°rn√≠ verze s vylep≈°enou architekturou</p>
            <a href="../../index.html" class="back-link">‚Üê Zpƒõt na hlavn√≠ str√°nku</a>
        </div>

        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">P≈ôihl√°≈°en√≠</button>
            <button class="auth-tab" data-tab="register">Registrace</button>
            <button class="auth-tab" data-tab="reset">Reset hesla</button>
        </div>

        <!-- LOGIN FORM -->
        <div id="login-form" class="auth-form active">
            <div class="card">
                <div class="card-header">
                    <h2>üîê P≈ôihl√°≈°en√≠</h2>
                    <p class="card-subtitle">P≈ôihlaste se ke sv√©mu √∫ƒçtu</p>
                </div>

                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginUsername" class="form-label">U≈æivatelsk√© jm√©no</label>
                        <input 
                            type="text" 
                            id="loginUsername" 
                            class="form-input" 
                            required 
                            minlength="3"
                            maxlength="20"
                            placeholder="Zadejte sv√© u≈æivatelsk√© jm√©no"
                        >
                    </div>

                    <div class="form-group">
                        <label for="loginPassword" class="form-label">Heslo</label>
                        <input 
                            type="password" 
                            id="loginPassword" 
                            class="form-input" 
                            required 
                            minlength="6"
                            placeholder="Zadejte sv√© heslo"
                        >
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe"> 
                            Zapamatovat si p≈ôihl√°≈°en√≠
                        </label>
                    </div>

                    <button type="submit" class="btn btn-large" style="width: 100%">
                        P≈ôihl√°sit se
                    </button>
                </form>

                <div class="auth-demo">
                    <h4>Demo √∫ƒçty pro testov√°n√≠:</h4>
                    <div class="demo-accounts">
                        <button class="btn btn-small btn-outline demo-btn" data-username="admin" data-password="admin123">
                            üë®‚Äçüíº Admin
                        </button>
                        <button class="btn btn-small btn-outline demo-btn" data-username="test" data-password="test">
                            üë§ Test User
                        </button>
                        <button class="btn btn-small btn-outline demo-btn" data-username="demo" data-password="demo">
                            üéØ Demo
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- REGISTER FORM -->
        <div id="register-form" class="auth-form">
            <div class="card">
                <div class="card-header">
                    <h2>üìù Registrace</h2>
                    <p class="card-subtitle">Vytvo≈ôte si nov√Ω √∫ƒçet</p>
                </div>

                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerUsername" class="form-label">U≈æivatelsk√© jm√©no</label>
                        <input 
                            type="text" 
                            id="registerUsername" 
                            class="form-input" 
                            required 
                            minlength="3"
                            maxlength="20"
                            pattern="[a-zA-Z0-9_]+"
                            placeholder="3-20 znak≈Ø, pouze p√≠smena, ƒç√≠slice a podtr≈æ√≠tka"
                        >
                        <small class="form-help">Pouze p√≠smena, ƒç√≠slice a podtr≈æ√≠tka</small>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail" class="form-label">Email (voliteln√Ω)</label>
                        <input 
                            type="email" 
                            id="registerEmail" 
                            class="form-input" 
                            placeholder="vas@email.com"
                        >
                        <small class="form-help">Pro obnoven√≠ hesla a notifikace</small>
                    </div>

                    <div class="form-group">
                        <label for="registerPassword" class="form-label">Heslo</label>
                        <input 
                            type="password" 
                            id="registerPassword" 
                            class="form-input" 
                            required 
                            minlength="6"
                            placeholder="Alespo≈à 6 znak≈Ø"
                        >
                    </div>

                    <div class="form-group">
                        <label for="registerPasswordConfirm" class="form-label">Potvrzen√≠ hesla</label>
                        <input 
                            type="password" 
                            id="registerPasswordConfirm" 
                            class="form-input" 
                            required 
                            placeholder="Zadejte heslo znovu"
                        >
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required> 
                            Souhlas√≠m s <a href="#" data-navigate="terms">podm√≠nkami pou≈æit√≠</a>
                        </label>
                    </div>

                    <button type="submit" class="btn btn-large btn-secondary" style="width: 100%">
                        Zaregistrovat se
                    </button>
                </form>
            </div>
        </div>

        <!-- RESET PASSWORD FORM -->
        <div id="reset-form" class="auth-form">
            <div class="card">
                <div class="card-header">
                    <h2>üîë Reset hesla</h2>
                    <p class="card-subtitle">Obnovte si zapomenut√© heslo</p>
                </div>

                <form id="resetForm">
                    <div class="form-group">
                        <label for="resetEmail" class="form-label">Email nebo u≈æivatelsk√© jm√©no</label>
                        <input 
                            type="text" 
                            id="resetEmail" 
                            class="form-input" 
                            required 
                            placeholder="Zadejte email nebo u≈æivatelsk√© jm√©no"
                        >
                    </div>

                    <button type="submit" class="btn btn-large" style="width: 100%">
                        Odeslat reset link
                    </button>
                </form>

                <div class="notification notification-info">
                    <strong>Info:</strong> Reset link bude odesl√°n na v√°≈° email (pokud byl zad√°n p≈ôi registraci).
                </div>
            </div>
        </div>

        <!-- STATUS SECTION -->
        <div class="auth-status">
            <div class="server-status" id="serverStatus">
                <span class="status-indicator" id="statusIndicator">üî¥</span>
                <span class="status-text" id="statusText">Offline Mode</span>
            </div>
        </div>

        <!-- API Test Section (for debugging) -->
        <div style="position: fixed; bottom: 10px; right: 10px; z-index: 1000; background: rgba(40, 44, 52, 0.95); border: 1px solid #61dafb; border-radius: 8px; padding: 10px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <div class="status-indicator" id="loginStatusIndicator" style="padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold;">üîç API Status</div>
                <button id="testAuthBtn" style="background: #61dafb; color: #282c34; border: none; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; cursor: pointer;">üß™ Test API</button>
            </div>
            <div id="testAuthResults" style="display: none; max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 10px; color: #e4e4e4; line-height: 1.4;"></div>
        </div>

        <!-- NOTIFICATIONS -->
        <div id="notifications" class="notifications-container"></div>
    </div>

    <!-- Scripts -->
    <script src="../../shared/logger.js"></script>
    <script src="../../shared/navigation.js"></script>
    <script src="../../shared/api-client.js?v=20250807-login"></script>
    <script src="login.js"></script>
</body>
</html>
