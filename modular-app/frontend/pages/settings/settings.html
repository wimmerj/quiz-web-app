<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nastaven√≠ - Modular Quiz App</title>
    <link rel="stylesheet" href="../../shared/common.css">
    <link rel="stylesheet" href="settings.css">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
</head>
<body class="no-navigation no-breadcrumb">
    <!-- Notifications Container -->
    <div id="notifications" class="notifications-container"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>‚öôÔ∏è Nastaven√≠</h1>
            <div class="user-info">
                <span id="userDisplay">üë§ Loading...</span>
                <button id="toggleApiTest" class="btn btn-secondary" onclick="document.getElementById('api-test-section').style.display = document.getElementById('api-test-section').style.display === 'none' ? 'block' : 'none'" style="margin-right: 10px;">üîß API Test</button>
                <button id="logoutBtn" class="btn btn-secondary">Odhl√°sit</button>
            </div>
        </div>
        
        <!-- Navigation Breadcrumbs -->
        <nav class="breadcrumbs">
            <div class="status-left">
                <a href="../../index.html">üè† Dashboard</a>
                <span class="separator">‚Ä∫</span>
                <span class="current">‚öôÔ∏è Nastaven√≠</span>
            </div>
            <div class="status-right">
                <div class="server-status" id="serverStatus">
                    <span class="status-indicator" id="statusIndicator">üî¥</span>
                    <span class="status-text" id="statusIndicatorText">Offline</span>
                    <span class="status-mode" id="statusMode">Local Mode</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- Settings Navigation Tabs -->
        <div class="settings-navigation">
            <div class="settings-tabs">
                <button class="tab-button active" data-tab="general">
                    üé® Obecn√©
                </button>
                <button class="tab-button" data-tab="quiz">
                    üéØ Quiz
                </button>
                <button class="tab-button" data-tab="account">
                    üë§ √öƒçet
                </button>
                <button class="tab-button" data-tab="appearance">
                    üé≠ Vzhled
                </button>
                <button class="tab-button" data-tab="audio">
                    üîä Audio
                </button>
                <button class="tab-button" data-tab="advanced">
                    üîß Pokroƒçil√©
                </button>
                <button class="tab-button" data-tab="data">
                    üíæ Data
                </button>
            </div>
        </div>

        <!-- Settings Content Container -->
        <div class="settings-container">

            <!-- General Settings Tab -->
            <div id="generalTab" class="settings-tab active">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üé® Obecn√° nastaven√≠</h2>
                        <p>Z√°kladn√≠ konfigurace aplikace</p>
                    </div>
                    
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üåç Jazyk aplikace</h3>
                                <p>Vyberte preferovan√Ω jazyk rozhran√≠</p>
                            </div>
                            <div class="setting-control">
                                <select id="languageSelect" class="form-select">
                                    <option value="cs">üá®üáø ƒåe≈°tina</option>
                                    <option value="en">üá∫üá∏ English</option>
                                    <option value="sk">üá∏üá∞ Slovenƒçina</option>
                                    <option value="de">üá©üá™ Deutsch</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üéÆ V√Ωchoz√≠ modul</h3>
                                <p>Kter√Ω modul se m√° spustit p≈ôi p≈ôihl√°≈°en√≠</p>
                            </div>
                            <div class="setting-control">
                                <select id="defaultModuleSelect" class="form-select">
                                    <option value="dashboard">üè† Dashboard</option>
                                    <option value="quiz">üéØ Quiz</option>
                                    <option value="battle">‚öîÔ∏è Battle</option>
                                    <option value="oral-exam">üéôÔ∏è √östn√≠ zkou≈°ka</option>
                                    <option value="admin">‚öôÔ∏è Admin (pokud m√°te opr√°vnƒõn√≠)</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîî Notifikace</h3>
                                <p>Povolit zobrazov√°n√≠ upozornƒõn√≠</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="notificationsEnabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üíæ Automatick√© ukl√°d√°n√≠</h3>
                                <p>Automaticky ukl√°dat pokrok a nastaven√≠</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoSaveEnabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>‚å®Ô∏è Kl√°vesov√© zkratky</h3>
                                <p>Povolit navigaci pomoc√≠ kl√°vesnice</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="keyboardShortcuts" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîí Pamatovat si p≈ôihl√°≈°en√≠</h3>
                                <p>Z≈Østat p≈ôihl√°≈°en po zav≈ôen√≠ prohl√≠≈æeƒçe</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="rememberLogin">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quiz Settings Tab -->
            <div id="quizTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üéØ Nastaven√≠ kv√≠zu</h2>
                        <p>Konfigurace chov√°n√≠ kv√≠zov√©ho modulu</p>
                    </div>
                    
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üé≤ Zam√≠chat odpovƒõdi</h3>
                                <p>N√°hodn√© po≈ôad√≠ mo≈ænost√≠ u ka≈æd√© ot√°zky</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="shuffleAnswers">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üí° Zobrazovat n√°povƒõdy</h3>
                                <p>Povolit tlaƒç√≠tko n√°povƒõdy u ot√°zek</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showHints" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>‚è≠Ô∏è Automaticky pokraƒçovat</h3>
                                <p>P≈ôej√≠t na dal≈°√≠ ot√°zku po odpovƒõdi</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoNextQuestion">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìñ Zobrazovat vysvƒõtlen√≠</h3>
                                <p>Automaticky uk√°zat vysvƒõtlen√≠ po odpovƒõdi</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showExplanations" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìè Velikost p√≠sma ot√°zky</h3>
                                <p>Nastavte velikost textu ot√°zek</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="questionFontSize" min="12" max="28" value="16" class="slider">
                                    <span id="questionFontDisplay" class="slider-value">16px</span>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìù Velikost p√≠sma odpovƒõd√≠</h3>
                                <p>Nastavte velikost textu odpovƒõd√≠</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="answerFontSize" min="12" max="24" value="14" class="slider">
                                    <span id="answerFontDisplay" class="slider-value">14px</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Settings Tab -->
            <div id="accountTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üë§ Nastaven√≠ √∫ƒçtu</h2>
                        <p>Spr√°va va≈°eho u≈æivatelsk√©ho profilu</p>
                    </div>
                    
                    <div class="account-info-card">
                        <div class="account-avatar">
                            <div id="userAvatar" class="avatar-circle">üë§</div>
                            <button id="changeAvatarBtn" class="btn btn-small">Zmƒõnit avatar</button>
                        </div>
                        
                        <div class="account-details">
                            <div class="account-field">
                                <label>U≈æivatelsk√© jm√©no:</label>
                                <span id="usernameDisplay">Loading...</span>
                            </div>
                            <div class="account-field">
                                <label>E-mail:</label>
                                <span id="emailDisplay">Loading...</span>
                            </div>
                            <div class="account-field">
                                <label>Registrace:</label>
                                <span id="registrationDate">Loading...</span>
                            </div>
                            <div class="account-field">
                                <label>Posledn√≠ p≈ôihl√°≈°en√≠:</label>
                                <span id="lastLoginDate">Loading...</span>
                            </div>
                        </div>
                    </div>

                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîí Zmƒõnit heslo</h3>
                                <p>Aktualizace p≈ôihla≈°ovac√≠ho hesla</p>
                            </div>
                            <div class="setting-control">
                                <button id="changePasswordBtn" class="btn btn-secondary">
                                    üîê Zmƒõnit heslo
                                </button>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìß Zmƒõnit e-mail</h3>
                                <p>Aktualizace e-mailov√© adresy</p>
                            </div>
                            <div class="setting-control">
                                <button id="changeEmailBtn" class="btn btn-secondary">
                                    ‚úâÔ∏è Zmƒõnit e-mail
                                </button>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîê Dvou-faktorov√© ovƒõ≈ôen√≠</h3>
                                <p>Zv√Ω≈°en√≠ bezpeƒçnosti √∫ƒçtu</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="twoFactorAuth">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üì± Mobiln√≠ notifikace</h3>
                                <p>Zas√≠l√°n√≠ upozornƒõn√≠ na telefon</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="mobileNotifications">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Appearance Settings Tab -->
            <div id="appearanceTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üé≠ Nastaven√≠ vzhledu</h2>
                        <p>P≈ôizp≈Øsoben√≠ vizu√°ln√≠ho stylu aplikace</p>
                    </div>
                    
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üåô Tmav√Ω re≈æim</h3>
                                <p>P≈ôepnut√≠ mezi svƒõtl√Ωm a tmav√Ωm t√©matem</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="darkMode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üé® Barevn√© t√©ma</h3>
                                <p>Vyberte hlavn√≠ barvu aplikace</p>
                            </div>
                            <div class="setting-control">
                                <div class="color-themes">
                                    <div class="color-option blue active" data-theme="blue" title="Modr√°">
                                        <div class="color-preview"></div>
                                    </div>
                                    <div class="color-option green" data-theme="green" title="Zelen√°">
                                        <div class="color-preview"></div>
                                    </div>
                                    <div class="color-option purple" data-theme="purple" title="Fialov√°">
                                        <div class="color-preview"></div>
                                    </div>
                                    <div class="color-option orange" data-theme="orange" title="Oran≈æov√°">
                                        <div class="color-preview"></div>
                                    </div>
                                    <div class="color-option red" data-theme="red" title="ƒåerven√°">
                                        <div class="color-preview"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìê Kompaktn√≠ rozhran√≠</h3>
                                <p>Men≈°√≠ mezery a prvky pro v√≠ce obsahu</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="compactInterface">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>‚ú® Animace</h3>
                                <p>Povolit animace a p≈ôechody</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="animationsEnabled" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üî§ Velikost p√≠sma UI</h3>
                                <p>Celkov√° velikost textu v rozhran√≠</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="uiFontSize" min="12" max="20" value="14" class="slider">
                                    <span id="uiFontDisplay" class="slider-value">14px</span>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìä Zobrazovat statistiky</h3>
                                <p>Uk√°zat pokrok a v√Ωkon na dashboard</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showDashboardStats" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audio Settings Tab -->
            <div id="audioTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üîä Nastaven√≠ zvuku</h2>
                        <p>Konfigurace audio funkc√≠ a hlasov√Ωch asistent≈Ø</p>
                    </div>
                    
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîä Hlavn√≠ hlasitost</h3>
                                <p>Celkov√° hlasitost zvukov√Ωch efekt≈Ø</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="masterVolume" min="0" max="100" value="50" class="slider">
                                    <span id="masterVolumeDisplay" class="slider-value">50%</span>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üéµ Zvukov√© efekty</h3>
                                <p>Povolit zvuky p≈ôi interakc√≠ch</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="soundEffects" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üéôÔ∏è Text-to-Speech</h3>
                                <p>P≈ôedƒç√≠t√°n√≠ ot√°zek a textu</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="textToSpeech">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üó£Ô∏è Hlas TTS</h3>
                                <p>V√Ωbƒõr hlasu pro p≈ôedƒç√≠t√°n√≠</p>
                            </div>
                            <div class="setting-control">
                                <select id="ttsVoiceSelect" class="form-select">
                                    <option value="default">V√Ωchoz√≠ hlas</option>
                                    <option value="czech-female">ƒåesk√° ≈æena</option>
                                    <option value="czech-male">ƒåesk√Ω mu≈æ</option>
                                    <option value="english-female">English Female</option>
                                    <option value="english-male">English Male</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>‚ö° Rychlost ≈ôeƒçi</h3>
                                <p>Tempo p≈ôedƒç√≠t√°n√≠ textu</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="ttsSpeed" min="0.5" max="2" step="0.1" value="1" class="slider">
                                    <span id="ttsSpeedDisplay" class="slider-value">1.0x</span>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üé§ Hlasov√© ovl√°d√°n√≠</h3>
                                <p>Povolit ovl√°d√°n√≠ hlasem (Speech-to-Text)</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="voiceControl">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üéØ Battle zvuky</h3>
                                <p>Speci√°ln√≠ efekty v Battle m√≥dech</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="battleSounds" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Settings Tab -->
            <div id="advancedTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üîß Pokroƒçil√° nastaven√≠</h2>
                        <p>Technick√© konfigurace a v√Ωvoj√°≈ôsk√© n√°stroje</p>
                    </div>
                    
                    <div class="settings-grid">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üåê Backend re≈æim</h3>
                                <p>Typ p≈ôipojen√≠ k datov√Ωm slu≈æb√°m</p>
                            </div>
                            <div class="setting-control">
                                <select id="backendMode" class="form-select">
                                    <option value="demo">Demo (offline)</option>
                                    <option value="local">Lok√°ln√≠ server</option>
                                    <option value="render">Render.com (online)</option>
                                    <option value="custom">Vlastn√≠ server</option>
                                </select>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîó URL serveru</h3>
                                <p>Adresa backend API serveru</p>
                            </div>
                            <div class="setting-control">
                                <input type="url" id="serverUrl" class="form-input" 
                                       placeholder="https://quiz-web-app-wpls.onrender.com">
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>‚è±Ô∏è Timeout API</h3>
                                <p>ƒåasov√Ω limit pro po≈æadavky na server (s)</p>
                            </div>
                            <div class="setting-control">
                                <div class="slider-container">
                                    <input type="range" id="apiTimeout" min="5" max="60" value="30" class="slider">
                                    <span id="apiTimeoutDisplay" class="slider-value">30s</span>
                                </div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîç V√Ωvoj√°≈ôsk√Ω re≈æim</h3>
                                <p>Zobrazit konzoli a debug informace</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="developerMode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üìä Analytika</h3>
                                <p>Sb√≠rat anonymn√≠ data o pou≈æ√≠v√°n√≠</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="analytics" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üöÄ Experiment√°ln√≠ funkce</h3>
                                <p>Povolit beta verze nov√Ωch modul≈Ø</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="experimentalFeatures">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üîÑ Automatick√© aktualizace</h3>
                                <p>Automaticky stahovat nov√© verze</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoUpdates" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h3>üêõ Hl√°≈°en√≠ chyb</h3>
                                <p>Automaticky zas√≠lat chybov√© hl√°≈°en√≠</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="errorReporting" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Management Tab -->
            <div id="dataTab" class="settings-tab">
                <div class="settings-section">
                    <div class="section-header">
                        <h2>üíæ Spr√°va dat</h2>
                        <p>Import, export a z√°loha va≈°ich dat</p>
                    </div>
                    
                    <div class="data-management-grid">
                        <!-- Export Section -->
                        <div class="data-section">
                            <h3>üì§ Export dat</h3>
                            <p>St√°hnƒõte si z√°lohu va≈°eho pokroku a nastaven√≠</p>
                            
                            <div class="export-options">
                                <div class="export-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="exportSettings" checked>
                                        <span class="checkmark"></span>
                                        Nastaven√≠ aplikace
                                    </label>
                                </div>
                                <div class="export-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="exportProgress" checked>
                                        <span class="checkmark"></span>
                                        Pokrok v kv√≠zech
                                    </label>
                                </div>
                                <div class="export-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="exportStats" checked>
                                        <span class="checkmark"></span>
                                        Statistiky a v√Ωsledky
                                    </label>
                                </div>
                                <div class="export-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="exportBattleHistory">
                                        <span class="checkmark"></span>
                                        Historie Battle m√≥d≈Ø
                                    </label>
                                </div>
                            </div>
                            
                            <button id="exportDataBtn" class="btn btn-primary">
                                üì• Exportovat data
                            </button>
                        </div>

                        <!-- Import Section -->
                        <div class="data-section">
                            <h3>üì• Import dat</h3>
                            <p>Obnovte data z p≈ôedchoz√≠ z√°lohy</p>
                            
                            <div class="import-area">
                                <input type="file" id="importFileInput" accept=".json" style="display: none;">
                                <button id="importDataBtn" class="btn btn-secondary">
                                    üìÇ Vybrat soubor
                                </button>
                                <div id="importStatus" class="import-status"></div>
                            </div>
                        </div>

                        <!-- Storage Info -->
                        <div class="data-section">
                            <h3>üíΩ Informace o √∫lo≈æi≈°ti</h3>
                            <p>Aktu√°ln√≠ vyu≈æit√≠ m√≠stn√≠ho √∫lo≈æi≈°tƒõ</p>
                            
                            <div class="storage-info">
                                <div class="storage-item">
                                    <span>Nastaven√≠:</span>
                                    <span id="settingsSize">Naƒç√≠t√° se...</span>
                                </div>
                                <div class="storage-item">
                                    <span>Pokrok kv√≠z≈Ø:</span>
                                    <span id="progressSize">Naƒç√≠t√° se...</span>
                                </div>
                                <div class="storage-item">
                                    <span>Battle statistiky:</span>
                                    <span id="battleStatsSize">Naƒç√≠t√° se...</span>
                                </div>
                                <div class="storage-item">
                                    <span>Cache:</span>
                                    <span id="cacheSize">Naƒç√≠t√° se...</span>
                                </div>
                                <div class="storage-total">
                                    <span><strong>Celkem:</strong></span>
                                    <span id="totalSize"><strong>Naƒç√≠t√° se...</strong></span>
                                </div>
                            </div>
                        </div>

                        <!-- Clear Data Section -->
                        <div class="data-section danger-section">
                            <h3>üóëÔ∏è Vymaz√°n√≠ dat</h3>
                            <p>Permanentn√≠ odstranƒõn√≠ vybran√Ωch dat</p>
                            
                            <div class="danger-actions">
                                <button id="clearCacheBtn" class="btn btn-warning">
                                    üßπ Vymazat cache
                                </button>
                                <button id="clearProgressBtn" class="btn btn-danger">
                                    ‚ö†Ô∏è Vymazat pokrok
                                </button>
                                <button id="resetSettingsBtn" class="btn btn-danger">
                                    üîÑ Reset nastaven√≠
                                </button>
                                <button id="clearAllDataBtn" class="btn btn-danger">
                                    üí£ Vymazat v≈°e
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Settings Actions -->
        <div class="settings-actions">
            <button id="resetToDefaultBtn" class="btn btn-secondary">
                üîÑ Obnovit v√Ωchoz√≠
            </button>
            <button id="saveSettingsBtn" class="btn btn-primary">
                üíæ Ulo≈æit nastaven√≠
            </button>
            <button id="applyChangesBtn" class="btn btn-success">
                ‚úÖ Pou≈æ√≠t zmƒõny
            </button>
        </div>

    </main>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîí Zmƒõna hesla</h3>
                <button class="modal-close" onclick="closeModal('changePasswordModal')">√ó</button>
            </div>
            
            <form id="changePasswordForm" class="modal-body">
                <div class="form-group">
                    <label for="currentPassword">Souƒçasn√© heslo:</label>
                    <input type="password" id="currentPassword" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="newPassword">Nov√© heslo:</label>
                    <input type="password" id="newPassword" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Potvrdit heslo:</label>
                    <input type="password" id="confirmPassword" class="form-input" required>
                </div>
                
                <div class="password-strength">
                    <div class="strength-bar">
                        <div id="strengthFill" class="strength-fill"></div>
                    </div>
                    <span id="strengthText">Zadejte nov√© heslo</span>
                </div>
            </form>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('changePasswordModal')">
                    Zru≈°it
                </button>
                <button type="submit" form="changePasswordForm" class="btn btn-primary">
                    üîê Zmƒõnit heslo
                </button>
            </div>
        </div>
    </div>

    <!-- Change Email Modal -->
    <div id="changeEmailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìß Zmƒõna e-mailu</h3>
                <button class="modal-close" onclick="closeModal('changeEmailModal')">√ó</button>
            </div>
            
            <form id="changeEmailForm" class="modal-body">
                <div class="form-group">
                    <label for="newEmail">Nov√Ω e-mail:</label>
                    <input type="email" id="newEmail" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="confirmEmail">Potvrdit e-mail:</label>
                    <input type="email" id="confirmEmail" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="passwordConfirm">Heslo pro potvrzen√≠:</label>
                    <input type="password" id="passwordConfirm" class="form-input" required>
                </div>
            </form>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('changeEmailModal')">
                    Zru≈°it
                </button>
                <button type="submit" form="changeEmailForm" class="btn btn-primary">
                    ‚úâÔ∏è Zmƒõnit e-mail
                </button>
            </div>
        </div>
    </div>

    <!-- Avatar Selection Modal -->
    <div id="avatarModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üë§ V√Ωbƒõr avataru</h3>
                <button class="modal-close" onclick="closeModal('avatarModal')">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="avatar-grid">
                    <div class="avatar-option" data-avatar="üë§">üë§</div>
                    <div class="avatar-option" data-avatar="üßë‚Äçüíº">üßë‚Äçüíº</div>
                    <div class="avatar-option" data-avatar="üë©‚Äçüéì">üë©‚Äçüéì</div>
                    <div class="avatar-option" data-avatar="üßë‚Äçüî¨">üßë‚Äçüî¨</div>
                    <div class="avatar-option" data-avatar="üë®‚Äçüíª">üë®‚Äçüíª</div>
                    <div class="avatar-option" data-avatar="üë©‚Äçüè´">üë©‚Äçüè´</div>
                    <div class="avatar-option" data-avatar="üßô‚Äç‚ôÇÔ∏è">üßô‚Äç‚ôÇÔ∏è</div>
                    <div class="avatar-option" data-avatar="ü¶∏‚Äç‚ôÄÔ∏è">ü¶∏‚Äç‚ôÄÔ∏è</div>
                    <div class="avatar-option" data-avatar="ü§ñ">ü§ñ</div>
                    <div class="avatar-option" data-avatar="üê±">üê±</div>
                    <div class="avatar-option" data-avatar="üê∂">üê∂</div>
                    <div class="avatar-option" data-avatar="ü¶ä">ü¶ä</div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('avatarModal')">
                    Zru≈°it
                </button>
                <button id="saveAvatarBtn" class="btn btn-primary">
                    üíæ Ulo≈æit avatar
                </button>
            </div>
        </div>
    </div>

    <!-- API Test Section -->
    <div id="api-test-section" style="position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.9); color: white; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 12px; z-index: 1000; width: 300px; border: 2px solid #00ff00; display: none;">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
            <div id="settingsStatusIndicator" style="width: 10px; height: 10px; border-radius: 50%; background: #ff0000; margin-right: 10px;"></div>
            <strong>Settings API Test Panel</strong>
        </div>
        <button id="api-test-btn" onclick="runSettingsAPIClientTest()" style="background: #00aa00; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; width: 100%; margin-bottom: 10px; font-weight: bold;">
            üß™ Test APIClient Connection
        </button>
        <div id="api-test-results" style="background: #222; padding: 10px; border-radius: 5px; min-height: 50px; max-height: 200px; overflow-y: auto;">
            <div style="color: #888;">Klikni na tlaƒç√≠tko pro test...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../shared/logger.js"></script>
    <script src="../../shared/api-client.js"></script>
    <script src="../../shared/navigation.js"></script>
    <script src="settings.js"></script>
</body>
</html>
