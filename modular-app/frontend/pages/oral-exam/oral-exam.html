<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oral Exam - Modular Quiz App</title>
    <link rel="stylesheet" href="../../shared/common.css">
    <link rel="stylesheet" href="oral-exam.css">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
</head>
<body class="no-navigation no-breadcrumb">
    <!-- Notifications Container -->
    <div id="notifications" class="notifications-container"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>üé§ Oral Exam Modul</h1>
            <div class="user-info">
                <span id="userDisplay">üë§ Loading...</span>
                <button id="toggleApiTest" class="btn btn-secondary" onclick="document.getElementById('api-test-section').style.display = document.getElementById('api-test-section').style.display === 'none' ? 'block' : 'none'" style="margin-right: 10px;">üîß API Test</button>
                <button id="logoutBtn" class="btn btn-secondary">Odhl√°sit</button>
            </div>
        </div>
        
        <!-- Navigation Breadcrumbs / Status Bar -->
        <nav class="breadcrumbs">
            <div class="status-left">
                <div id="navigation-links-container"></div>
                <span class="separator">|</span>
                <span class="current">üé§ Oral Exam</span>
                <span class="separator">|</span>
                <span id="statusText">Nep≈ôihl√°≈°en√Ω u≈æivatel (0 odpovƒõd√≠, celkem spr√°vnƒõ 0, celkem ≈°patnƒõ 0)</span>
            </div>
            <div class="status-right">
                <div class="server-status" id="serverStatus">
                    <span class="status-indicator" id="statusIndicator">üî¥</span>
                    <span class="status-text" id="statusIndicatorText">Offline</span>
                    <span class="status-mode" id="statusMode">Local Mode</span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- Exam Setup Panel -->
        <section class="exam-setup" id="examSetup">
            <div class="setup-card">
                <h2>üéôÔ∏è Nastaven√≠ √östn√≠ Zkou≈°ky</h2>
                
                <div class="setup-grid">
                    <div class="form-group">
                        <label for="examTableSelect">üìö Vyberte tabulku:</label>
                        <select id="examTableSelect" class="form-select">
                            <option value="">-- Vyberte tabulku --</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="examDifficulty">üìä √örove≈à obt√≠≈ænosti:</label>
                        <select id="examDifficulty" class="form-select">
                            <option value="easy">üü¢ Snadn√° (z√°kladn√≠ ot√°zky)</option>
                            <option value="medium" selected>üü° St≈ôedn√≠ (sm√≠≈°en√© ot√°zky)</option>
                            <option value="hard">üî¥ Tƒõ≈æk√° (slo≈æit√© ot√°zky)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="examDuration">‚è±Ô∏è Doba trv√°n√≠ (minuty):</label>
                        <select id="examDuration" class="form-select">
                            <option value="5">5 minut</option>
                            <option value="10">10 minut</option>
                            <option value="15" selected>15 minut</option>
                            <option value="20">20 minut</option>
                            <option value="30">30 minut</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="questionCount">üî¢ Poƒçet ot√°zek:</label>
                        <select id="questionCount" class="form-select">
                            <option value="5">5 ot√°zek</option>
                            <option value="10" selected>10 ot√°zek</option>
                            <option value="15">15 ot√°zek</option>
                            <option value="20">20 ot√°zek</option>
                        </select>
                    </div>
                </div>
                
                <!-- Voice Settings -->
                <div class="voice-settings">
                    <h3>üîä Nastaven√≠ Hlasu</h3>
                    <div class="voice-grid">
                        <div class="form-group">
                            <label for="speechLanguage">üåç Jazyk:</label>
                            <select id="speechLanguage" class="form-select">
                                <option value="cs-CZ" selected>üá®üáø ƒåe≈°tina</option>
                                <option value="en-US">üá∫üá∏ Angliƒçtina</option>
                                <option value="de-DE">üá©üá™ Nƒõmƒçina</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="speechRate">üéµ Rychlost ≈ôeƒçi:</label>
                            <input type="range" id="speechRate" min="0.5" max="2" step="0.1" value="1">
                            <span id="speechRateDisplay">1x</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="speechPitch">üé∂ V√Ω≈°ka hlasu:</label>
                            <input type="range" id="speechPitch" min="0.5" max="2" step="0.1" value="1">
                            <span id="speechPitchDisplay">1x</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="speechVolume">üîä Hlasitost:</label>
                            <input type="range" id="speechVolume" min="0" max="1" step="0.1" value="0.8">
                            <span id="speechVolumeDisplay">80%</span>
                        </div>
                    </div>
                    
                    <div class="voice-test">
                        <button id="testSpeechBtn" class="btn btn-secondary">
                            üîä Test Hlasu
                        </button>
                        <button id="micTestBtn" class="btn btn-secondary">
                            üé§ Test Mikrofonu
                        </button>
                    </div>
                </div>
                
                <div class="setup-actions">
                    <button id="startExamBtn" class="btn btn-primary" disabled>
                        üöÄ Spustit √östn√≠ Zkou≈°ku
                    </button>
                    <button id="endExamBtn" class="btn btn-danger" disabled>
                        üõë Ukonƒçit Zkou≈°ku
                    </button>
                    <button id="examSettingsBtn" class="btn btn-secondary">
                        ‚öôÔ∏è Pokroƒçil√© Nastaven√≠
                    </button>
                </div>
            </div>
        </section>

        <!-- Exam Interface -->
        <section class="exam-interface" id="examInterface" style="display: none;">
            
            <!-- Exam Header -->
            <div class="exam-header">
                <div class="exam-progress">
                    <div class="progress-info">
                        <span id="examQuestionCounter">Ot√°zka: 0/0</span>
                        <span id="examTimeRemaining">‚è±Ô∏è Zb√Ωv√°: 15:00</span>
                        <span id="examScore">üéØ Sk√≥re: 0/0</span>
                    </div>
                    <div class="progress-bar">
                        <div id="examProgressFill" class="progress-fill"></div>
                    </div>
                </div>
                
                <div class="exam-controls">
                    <button id="pauseExamBtn" class="btn btn-small btn-warning">
                        ‚è∏Ô∏è Pauza
                    </button>
                    <button id="helpExamBtn" class="btn btn-small btn-secondary">
                        ‚ùì N√°povƒõda
                    </button>
                </div>
            </div>
            
            <!-- Question Display -->
            <div class="question-display">
                <div class="question-header">
                    <h3>üìù Ot√°zka</h3>
                    <div class="question-actions">
                        <button id="repeatQuestionBtn" class="btn btn-small">
                            üîÅ Opakovat Ot√°zku
                        </button>
                        <button id="skipQuestionBtn" class="btn btn-small btn-warning">
                            ‚è≠Ô∏è P≈ôeskoƒçit
                        </button>
                    </div>
                </div>
                
                <div class="question-content">
                    <div class="question-text-container">
                        <p id="examQuestionText" class="question-text">
                            Vyberte tabulku a spus≈•te √∫stn√≠ zkou≈°ku...
                        </p>
                        
                        <!-- Speech Status Indicator -->
                        <div id="speechStatus" class="speech-status">
                            <div class="speech-indicator">
                                <div class="speech-icon">üîä</div>
                                <div class="speech-waves">
                                    <span></span><span></span><span></span>
                                </div>
                            </div>
                            <span id="speechStatusText">P≈ôipraveno k p≈ôeƒçten√≠</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Voice Response Area -->
            <div class="voice-response">
                <div class="response-header">
                    <h3>üé§ Va≈°a Odpovƒõƒè</h3>
                    <div class="response-mode">
                        <label class="radio-label">
                            <input type="radio" name="responseMode" value="voice" checked>
                            <span>üé§ Hlasov√° odpovƒõƒè</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="responseMode" value="text">
                            <span>‚å®Ô∏è Textov√° odpovƒõƒè</span>
                        </label>
                    </div>
                </div>
                
                <!-- Voice Input -->
                <div id="voiceInput" class="voice-input">
                    <div class="mic-container">
                        <button id="micButton" class="mic-button" disabled>
                            <div class="mic-icon">üé§</div>
                            <div class="mic-animation">
                                <div class="pulse"></div>
                                <div class="pulse delay-1"></div>
                                <div class="pulse delay-2"></div>
                            </div>
                        </button>
                        <div class="mic-status">
                            <span id="micStatusText">P≈ôipraveno k nahr√°v√°n√≠</span>
                        </div>
                    </div>
                    
                    <!-- Voice Visualization -->
                    <div class="voice-visualizer">
                        <canvas id="voiceCanvas" width="300" height="60"></canvas>
                    </div>
                    
                    <!-- Recognized Text -->
                    <div class="recognized-text">
                        <label>üìù Rozpoznan√Ω text:</label>
                        <div id="recognizedText" class="text-display">
                            Stisknƒõte mikrofon a zaƒçnƒõte mluvit...
                        </div>
                        <div class="recognition-confidence">
                            <span>P≈ôesnost: </span>
                            <span id="confidenceLevel">--</span>
                        </div>
                    </div>
                </div>
                
                <!-- Text Input -->
                <div id="textInput" class="text-input" style="display: none;">
                    <label for="manualAnswer">‚úçÔ∏è Zadejte odpovƒõƒè ruƒçnƒõ:</label>
                    <textarea id="manualAnswer" class="answer-textarea" 
                              placeholder="Napi≈°te zde svou odpovƒõƒè..."></textarea>
                    <div class="text-actions">
                        <button id="clearTextBtn" class="btn btn-small btn-secondary">
                            üóëÔ∏è Vymazat
                        </button>
                        <button id="speakTextBtn" class="btn btn-small btn-secondary">
                            üîä P≈ôeƒç√≠st Text
                        </button>
                    </div>
                </div>
                
                <!-- Response Actions -->
                <div class="response-actions">
                    <button id="submitAnswerBtn" class="btn btn-primary" disabled>
                        ‚úÖ Odeslat Odpovƒõƒè
                    </button>
                    <button id="retryAnswerBtn" class="btn btn-secondary">
                        üîÑ Zkusit Znovu
                    </button>
                </div>
            </div>
            
            <!-- Feedback Panel -->
            <div id="feedbackPanel" class="feedback-panel" style="display: none;">
                <div class="feedback-header">
                    <h4>üìä Zpƒõtn√° Vazba</h4>
                    <div class="feedback-score">
                        <span id="answerScore">--</span>
                    </div>
                </div>
                
                <div class="feedback-content">
                    <div class="answer-comparison">
                        <div class="user-answer">
                            <h5>üë§ Va≈°e odpovƒõƒè:</h5>
                            <p id="userAnswerText">--</p>
                        </div>
                        <div class="correct-answer">
                            <h5>‚úÖ Spr√°vn√° odpovƒõƒè:</h5>
                            <p id="correctAnswerText">--</p>
                        </div>
                    </div>
                    
                    <div class="feedback-analysis">
                        <h5>üîç Anal√Ωza:</h5>
                        <ul id="feedbackPoints">
                            <li>Naƒç√≠t√°n√≠ anal√Ωzy...</li>
                        </ul>
                    </div>
                </div>
                
                <div class="feedback-actions">
                    <button id="nextQuestionBtn" class="btn btn-primary">
                        ‚û°Ô∏è Dal≈°√≠ Ot√°zka
                    </button>
                    <button id="explainAnswerBtn" class="btn btn-secondary">
                        üìñ Vysvƒõtlit Odpovƒõƒè
                    </button>
                </div>
            </div>
            
        </section>

        <!-- Exam Results -->
        <section class="exam-results" id="examResults" style="display: none;">
            <div class="results-card">
                <div class="results-header">
                    <h2>üèÜ V√Ωsledky √östn√≠ Zkou≈°ky</h2>
                    <div class="overall-grade">
                        <span id="overallGrade" class="grade">A</span>
                    </div>
                </div>
                
                <div class="results-summary">
                    <div class="summary-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="totalQuestions">0</div>
                            <div class="stat-label">Celkem ot√°zek</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="correctAnswers">0</div>
                            <div class="stat-label">Spr√°vn√© odpovƒõdi</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="accuracyPercent">0%</div>
                            <div class="stat-label">√öspƒõ≈°nost</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="timeSpent">0:00</div>
                            <div class="stat-label">ƒåas str√°ven√Ω</div>
                        </div>
                    </div>
                    
                    <div class="performance-metrics">
                        <h3>üìà V√Ωkonnostn√≠ Metriky</h3>
                        <div class="metrics-grid">
                            <div class="metric">
                                <span class="metric-label">üé§ Kvalita hlasu:</span>
                                <div class="metric-bar">
                                    <div id="voiceQuality" class="metric-fill" style="width: 85%"></div>
                                </div>
                                <span id="voiceQualityText">85%</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">üó£Ô∏è Srozumitelnost:</span>
                                <div class="metric-bar">
                                    <div id="clarity" class="metric-fill" style="width: 92%"></div>
                                </div>
                                <span id="clarityText">92%</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">‚ö° Rychlost odpovƒõdi:</span>
                                <div class="metric-bar">
                                    <div id="responseSpeed" class="metric-fill" style="width: 78%"></div>
                                </div>
                                <span id="responseSpeedText">78%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Results -->
                <div class="detailed-results">
                    <h3>üìã Podrobn√© V√Ωsledky</h3>
                    <div id="questionReviews" class="question-reviews">
                        <!-- Dynamically populated -->
                    </div>
                </div>
                
                <div class="results-actions">
                    <button id="retakeExamBtn" class="btn btn-primary">
                        üîÑ Opakovat Zkou≈°ku
                    </button>
                    <button id="newExamBtn" class="btn btn-secondary">
                        üìö Nov√° Zkou≈°ka
                    </button>
                    <button id="exportResultsBtn" class="btn btn-secondary">
                        üíæ Export V√Ωsledk≈Ø
                    </button>
                    <button id="shareResultsBtn" class="btn btn-secondary">
                        üì§ Sd√≠let V√Ωsledky
                    </button>
                </div>
            </div>
        </section>

    </main>

    <!-- Advanced Settings Panel -->
    <section class="advanced-settings" id="advancedSettings" style="display: none;">
        <div class="setup-card">
            <h2>‚öôÔ∏è Pokroƒçil√© Nastaven√≠ √östn√≠ Zkou≈°ky</h2>
            
            <div class="settings-tabs">
                <button class="tab-button active" data-tab="speech">üîä ≈òeƒç</button>
                <button class="tab-button" data-tab="recognition">üé§ Rozpozn√°v√°n√≠</button>
                <button class="tab-button" data-tab="evaluation">üìä Hodnocen√≠</button>
                <button class="tab-button" data-tab="interface">üé® Rozhran√≠</button>
            </div>
            
            <!-- Speech Settings Tab -->
            <div id="speechTab" class="tab-content active">
                <h4>üîä Nastaven√≠ Synt√©zy ≈òeƒçi</h4>
                <div class="settings-grid">
                    <div class="form-group">
                        <label for="voiceSelect">Hlas:</label>
                        <select id="voiceSelect" class="form-select">
                            <option value="">-- Automatick√Ω v√Ωbƒõr --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="autoReadQuestions" checked>
                            Automaticky ƒç√≠st ot√°zky
                        </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="readFeedback" checked>
                                ƒå√≠st zpƒõtnou vazbu
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="pauseBetweenQuestions">Pauza mezi ot√°zkami (s):</label>
                            <input type="number" id="pauseBetweenQuestions" min="0" max="10" value="2">
                        </div>
                    </div>
                </div>
                
                <!-- Recognition Settings Tab -->
                <div id="recognitionTab" class="tab-content">
                    <h4>üé§ Nastaven√≠ Rozpozn√°v√°n√≠ ≈òeƒçi</h4>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label for="recognitionLanguage">Jazyk rozpozn√°v√°n√≠:</label>
                            <select id="recognitionLanguage" class="form-select">
                                <option value="cs-CZ" selected>ƒåe≈°tina</option>
                                <option value="en-US">Angliƒçtina</option>
                                <option value="de-DE">Nƒõmƒçina</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="continuousRecognition" checked>
                                Pr≈Øbƒõ≈æn√© rozpozn√°v√°n√≠
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="interimResults">
                                Zobrazovat pr≈Øbƒõ≈æn√© v√Ωsledky
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="maxAlternatives">Maxim√°ln√≠ alternativy:</label>
                            <input type="number" id="maxAlternatives" min="1" max="5" value="3">
                        </div>
                        <div class="form-group">
                            <label for="confidenceThreshold">Pr√°h spolehlivosti:</label>
                            <input type="range" id="confidenceThreshold" min="0" max="1" step="0.1" value="0.7">
                            <span id="confidenceDisplay">70%</span>
                        </div>
                    </div>
                </div>
                
                <!-- Evaluation Settings Tab -->
                <div id="evaluationTab" class="tab-content">
                    <h4>üìä Nastaven√≠ Hodnocen√≠</h4>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label for="evaluationMode">Re≈æim hodnocen√≠:</label>
                            <select id="evaluationMode" class="form-select">
                                <option value="strict">P≈ô√≠sn√© (p≈ôesn√° shoda)</option>
                                <option value="fuzzy" selected>Fuzzy (podobnost)</option>
                                <option value="semantic">S√©mantick√© (v√Ωznam)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="similarityThreshold">Pr√°h podobnosti:</label>
                            <input type="range" id="similarityThreshold" min="0.5" max="1" step="0.05" value="0.8">
                            <span id="similarityDisplay">80%</span>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="ignoreCase" checked>
                                Ignorovat velikost p√≠smen
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="ignorePunctuation" checked>
                                Ignorovat interpunkci
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="allowPartialCredit">
                                Povolit ƒç√°steƒçn√© body
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Interface Settings Tab -->
                <div id="interfaceTab" class="tab-content">
                    <h4>üé® Nastaven√≠ Rozhran√≠</h4>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="showWaveform" checked>
                                Zobrazovat vlnov√© formy
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="showConfidence" checked>
                                Zobrazovat spolehlivost rozpozn√°n√≠
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="feedbackDetail">√örove≈à zpƒõtn√© vazby:</label>
                            <select id="feedbackDetail" class="form-select">
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="detailed" selected>Podrobn√°</option>
                                <option value="comprehensive">Komplexn√≠</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="animationSpeed">Rychlost animac√≠:</label>
                            <select id="animationSpeed" class="form-select">
                                <option value="slow">Pomal√©</option>
                                <option value="normal" selected>Norm√°ln√≠</option>
                                <option value="fast">Rychl√©</option>
                                <option value="none">≈Ω√°dn√©</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="setup-actions">
                <button id="hideAdvancedSettingsBtn" class="btn btn-secondary">
                    üîô Skr√Ωt Pokroƒçil√© Nastaven√≠
                </button>
                <button id="resetSettingsBtn" class="btn btn-warning">
                    üîÑ Obnovit V√Ωchoz√≠
                </button>
                <button id="saveAdvancedSettingsBtn" class="btn btn-primary">
                    üíæ Ulo≈æit Nastaven√≠
                </button>
            </div>
        </div>
    </section>

    <!-- Help Panel -->
    <section class="help-section-panel">
        <div class="setup-card">
            <h2>‚ùì N√°povƒõda - √östn√≠ Zkou≈°ka</h2>
            
            <div class="help-accordion">
                <div class="help-item">
                    <div class="help-header" onclick="toggleHelpItem('help-speech')">
                        <span>üé§ Jak funguje rozpozn√°v√°n√≠ ≈ôeƒçi?</span>
                        <span class="help-arrow">‚ñº</span>
                    </div>
                    <div id="help-speech" class="help-content">
                        <ul>
                            <li>Stisknƒõte tlaƒç√≠tko mikrofonu pro zah√°jen√≠ nahr√°v√°n√≠</li>
                            <li>Mluvte z≈ôetelnƒõ a v p≈ôimƒõ≈ôen√© rychlosti</li>
                            <li>Sledujte indik√°tor rozpozn√°v√°n√≠ a √∫rove≈à spolehlivosti</li>
                            <li>M≈Ø≈æete p≈ôepnout na textov√Ω re≈æim kdykoli</li>
                        </ul>
                    </div>
                </div>
                
                <div class="help-item">
                    <div class="help-header" onclick="toggleHelpItem('help-voice')">
                        <span>üîä Ovl√°d√°n√≠ hlasov√©ho v√Ωstupu</span>
                        <span class="help-arrow">‚ñº</span>
                    </div>
                    <div id="help-voice" class="help-content">
                        <ul>
                            <li>Ot√°zky jsou automaticky p≈ôeƒçteny</li>
                            <li>Pou≈æijte "Opakovat Ot√°zku" pro znovup≈ôehr√°n√≠</li>
                            <li>Upravte rychlost a v√Ω≈°ku hlasu v nastaven√≠</li>
                            <li>Test hlasu ovƒõ≈ô√≠ funkƒçnost p≈ôed zkou≈°kou</li>
                        </ul>
                    </div>
                </div>
                
                <div class="help-item">
                    <div class="help-header" onclick="toggleHelpItem('help-evaluation')">
                        <span>üìä Hodnocen√≠ odpovƒõd√≠</span>
                        <span class="help-arrow">‚ñº</span>
                    </div>
                    <div id="help-evaluation" class="help-content">
                        <ul>
                            <li>Syst√©m porovn√°v√° va≈°i odpovƒõƒè s referenƒçn√≠</li>
                            <li>Hodnot√≠ se p≈ôesnost, srozumitelnost a rychlost</li>
                            <li>Z√≠sk√°te podrobnou zpƒõtnou vazbu po ka≈æd√© ot√°zce</li>
                            <li>V√Ωsledky lze exportovat pro dal≈°√≠ anal√Ωzu</li>
                        </ul>
                    </div>
                </div>
                
                <div class="help-item">
                    <div class="help-header" onclick="toggleHelpItem('help-shortcuts')">
                        <span>‚å®Ô∏è Kl√°vesov√© zkratky</span>
                        <span class="help-arrow">‚ñº</span>
                    </div>
                    <div id="help-shortcuts" class="help-content">
                        <ul>
                            <li><kbd>Space</kbd> - Spustit/zastavit nahr√°v√°n√≠</li>
                            <li><kbd>Enter</kbd> - Potvrdit odpovƒõƒè</li>
                            <li><kbd>Tab</kbd> - P≈ôepnout na textov√Ω re≈æim</li>
                            <li><kbd>R</kbd> - Opakovat ot√°zku</li>
                            <li><kbd>N</kbd> - Dal≈°√≠ ot√°zka</li>
                            <li><kbd>Esc</kbd> - Ukonƒçit zkou≈°ku</li>
                        </ul>
                    </div>
                </div>
                
                <div class="help-item">
                    <div class="help-header" onclick="toggleHelpItem('help-tips')">
                        <span>üí° Tipy pro lep≈°√≠ v√Ωsledky</span>
                        <span class="help-arrow">‚ñº</span>
                    </div>
                    <div id="help-tips" class="help-content">
                        <ul>
                            <li>Pou≈æ√≠vejte kvalitn√≠ mikrofon a sluch√°tka</li>
                            <li>Zkontrolujte √∫rove≈à hlasitosti p≈ôed zaƒç√°tkem</li>
                            <li>Mluvte do mikrofonu ze vzd√°lenosti 15-20 cm</li>
                            <li>Vyvarujte se ru≈°iv√Ωch zvuk≈Ø v pozad√≠</li>
                            <li>P≈ôi probl√©mech p≈ôepnƒõte na textov√Ω re≈æim</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- API Test Section -->
    <div id="api-test-section" style="position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.9); color: white; padding: 15px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 12px; z-index: 1000; width: 300px; border: 2px solid #00ff00; display: none;">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
            <div id="oralExamStatusIndicator" style="width: 10px; height: 10px; border-radius: 50%; background: #ff0000; margin-right: 10px;"></div>
            <strong>Oral Exam API Test Panel</strong>
        </div>
        <button id="api-test-btn" onclick="runOralExamAPIClientTest()" style="background: #00aa00; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; width: 100%; margin-bottom: 10px; font-weight: bold;">
            üß™ Test APIClient Connection
        </button>
        <div id="api-test-results" style="background: #222; padding: 10px; border-radius: 5px; min-height: 50px; max-height: 200px; overflow-y: auto;">
            <div style="color: #888;">Klikni na tlaƒç√≠tko pro test...</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../shared/logger.js"></script>
    <script src="../../shared/api-client.js"></script>
    <script src="../../shared/navigation.js"></script>
    <script src="oral-exam.js"></script>
    
    <script>
        // Advanced Settings Panel Toggle
        function toggleAdvancedSettings() {
            const panel = document.getElementById('advancedSettings');
            const isVisible = panel.style.display !== 'none';
            panel.style.display = isVisible ? 'none' : 'block';
        }
        
        // Hide Advanced Settings
        document.getElementById('hideAdvancedSettingsBtn')?.addEventListener('click', function() {
            document.getElementById('advancedSettings').style.display = 'none';
        });
        
        // Update button event listener to show advanced settings instead of modal
        document.getElementById('examSettingsBtn')?.addEventListener('click', function() {
            toggleAdvancedSettings();
        });
        
        // Help Accordion Toggle
        function toggleHelpItem(helpId) {
            const helpContent = document.getElementById(helpId);
            const helpItem = helpContent.closest('.help-item');
            const arrow = helpItem.querySelector('.help-arrow');
            
            const isExpanded = helpContent.classList.contains('expanded');
            
            if (isExpanded) {
                helpContent.classList.remove('expanded');
                helpItem.classList.remove('expanded');
                helpContent.style.display = 'none';
            } else {
                helpContent.classList.add('expanded');
                helpItem.classList.add('expanded');
                helpContent.style.display = 'block';
            }
        }
        
        // Tab Switching for Advanced Settings
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and contents
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Add active class to clicked button and corresponding content
                    this.classList.add('active');
                    document.getElementById(targetTab + 'Tab').classList.add('active');
                });
            });
        });
    </script>
</body>
</html>
