<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Mode - Modular Quiz App</title>
    <link rel="stylesheet" href="../../shared/common.css">
    <link rel="stylesheet" href="battle.css">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
</head>
<body class="no-navigation no-breadcrumb">
    <!-- Notifications Container -->
    <div id="notifications" class="notifications-container"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>‚öîÔ∏è Battle Mode</h1>
            <div class="user-info">
                <span id="userDisplay">üë§ Loading...</span>
                <div class="user-stats">
                    <span id="userRank">üèÜ Rank: --</span>
                    <span id="userRating">‚≠ê Rating: --</span>
                </div>
                <button id="logoutBtn" class="btn btn-secondary">Odhl√°sit</button>
            </div>
        </div>
        
        <!-- Navigation Breadcrumbs -->
        <nav class="breadcrumbs">
            <a href="../../index.html">üè† Dashboard</a>
            <span class="separator">‚Ä∫</span>
            <span class="current">‚öîÔ∏è Battle Mode</span>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- Battle Menu -->
        <section class="battle-menu" id="battleMenu">
            <div class="menu-grid">
                
                <!-- Quick Battle -->
                <div class="battle-card quick-battle">
                    <div class="card-header">
                        <h3>‚ö° Rychl√Ω Souboj</h3>
                        <div class="difficulty-indicator easy">SNADN√â</div>
                    </div>
                    <div class="card-content">
                        <p>Okam≈æit√© spojen√≠ s n√°hodn√Ωm protivn√≠kem. Rychl√© 5-minutov√© souboje pro zaƒç√°teƒçn√≠ky.</p>
                        <div class="battle-stats">
                            <span>üë• Online: <span id="quickBattlePlayers">--</span></span>
                            <span>‚è±Ô∏è Pr≈Ømƒõrn√Ω ƒças: 2min</span>
                        </div>
                    </div>
                    <button id="quickBattleBtn" class="btn btn-primary btn-large">
                        üöÄ Zaƒç√≠t Rychl√Ω Souboj
                    </button>
                </div>

                <!-- Ranked Battle -->
                <div class="battle-card ranked-battle">
                    <div class="card-header">
                        <h3>üèÜ Hodnocen√Ω Souboj</h3>
                        <div class="difficulty-indicator medium">ST≈òEDN√ç</div>
                    </div>
                    <div class="card-content">
                        <p>Souboje ovliv≈àuj√≠c√≠ v√°≈° rank a rating. Del≈°√≠ form√°t s 10 ot√°zkami pro pokroƒçil√© hr√°ƒçe.</p>
                        <div class="battle-stats">
                            <span>üë• Online: <span id="rankedBattlePlayers">--</span></span>
                            <span>‚è±Ô∏è Pr≈Ømƒõrn√Ω ƒças: 8min</span>
                        </div>
                    </div>
                    <button id="rankedBattleBtn" class="btn btn-success btn-large">
                        üéØ Zaƒç√≠t Hodnocen√Ω Souboj
                    </button>
                </div>

                <!-- Tournament -->
                <div class="battle-card tournament">
                    <div class="card-header">
                        <h3>üèÖ Turnaj</h3>
                        <div class="difficulty-indicator hard">Tƒö≈ΩK√â</div>
                    </div>
                    <div class="card-content">
                        <p>Eliminaƒçn√≠ turnaje s v√≠ce hr√°ƒçi. V√≠tƒõz bere v≈°echno! Presti≈æn√≠ soutƒõ≈æe s velk√Ωmi odmƒõnami.</p>
                        <div class="battle-stats">
                            <span>üèÜ Aktivn√≠ turnaje: <span id="activeTournaments">--</span></span>
                            <span>üí∞ V√Ωhry: XP + Achievementy</span>
                        </div>
                    </div>
                    <button id="tournamentBtn" class="btn btn-warning btn-large">
                        üé™ P≈ôipojit se k Turnaji
                    </button>
                </div>

                <!-- Custom Battle -->
                <div class="battle-card custom-battle">
                    <div class="card-header">
                        <h3>üé® Vlastn√≠ Souboj</h3>
                        <div class="difficulty-indicator custom">VLASTN√ç</div>
                    </div>
                    <div class="card-content">
                        <p>Vytvo≈ôte souboj s vlastn√≠mi pravidly nebo se p≈ôipojte k souboji p≈ô√°tel pomoc√≠ k√≥du m√≠stnosti.</p>
                        <div class="custom-options">
                            <input type="text" id="roomCodeInput" class="form-input" placeholder="K√≥d m√≠stnosti (voliteln√©)">
                        </div>
                    </div>
                    <div class="custom-actions">
                        <button id="createRoomBtn" class="btn btn-secondary">
                            üèóÔ∏è Vytvo≈ôit M√≠stnost
                        </button>
                        <button id="joinRoomBtn" class="btn btn-secondary">
                            üö™ P≈ôipojit se
                        </button>
                    </div>
                </div>

            </div>

            <!-- Battle History & Stats -->
            <div class="battle-sidebar">
                
                <!-- Recent Battles -->
                <div class="sidebar-card">
                    <h4>üìú Ned√°vn√© Souboje</h4>
                    <div id="recentBattles" class="recent-list">
                        <div class="recent-item win">
                            <div class="battle-result">üèÜ V√ùHRA</div>
                            <div class="battle-details">
                                <span>vs TestUser123</span>
                                <span class="battle-score">8:6</span>
                            </div>
                            <div class="battle-time">p≈ôed 2h</div>
                        </div>
                        <div class="recent-item loss">
                            <div class="battle-result">‚ùå PROHRA</div>
                            <div class="battle-details">
                                <span>vs QuizMaster</span>
                                <span class="battle-score">4:9</span>
                            </div>
                            <div class="battle-time">p≈ôed 1d</div>
                        </div>
                    </div>
                </div>

                <!-- Leaderboard Preview -->
                <div class="sidebar-card">
                    <h4>üèÜ Top Hr√°ƒçi</h4>
                    <div id="leaderboardPreview" class="leaderboard-mini">
                        <div class="leader-item">
                            <span class="rank">1.</span>
                            <span class="name">QuizGod</span>
                            <span class="rating">2847</span>
                        </div>
                        <div class="leader-item">
                            <span class="rank">2.</span>
                            <span class="name">BrainMaster</span>
                            <span class="rating">2756</span>
                        </div>
                        <div class="leader-item">
                            <span class="rank">3.</span>
                            <span class="name">QuickThink</span>
                            <span class="rating">2689</span>
                        </div>
                        <div class="leader-item current">
                            <span class="rank">47.</span>
                            <span class="name">You</span>
                            <span class="rating">1842</span>
                        </div>
                    </div>
                    <button id="fullLeaderboardBtn" class="btn btn-small btn-secondary">
                        üìä Pln√Ω ≈Ωeb≈ô√≠ƒçek
                    </button>
                </div>

                <!-- Achievements -->
                <div class="sidebar-card">
                    <h4>üéØ Achievementy</h4>
                    <div id="achievements" class="achievements-mini">
                        <div class="achievement unlocked">
                            <span class="icon">üèÜ</span>
                            <span class="name">Prvn√≠ V√Ωhra</span>
                        </div>
                        <div class="achievement unlocked">
                            <span class="icon">‚ö°</span>
                            <span class="name">Rychl√° Ruka</span>
                        </div>
                        <div class="achievement locked">
                            <span class="icon">üî•</span>
                            <span class="name">S√©rie 10</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Matchmaking Screen -->
        <section class="matchmaking" id="matchmaking" style="display: none;">
            <div class="matchmaking-container">
                <div class="matchmaking-header">
                    <h2>üîç Hled√°n√≠ Protivn√≠ka...</h2>
                    <button id="cancelMatchmakingBtn" class="btn btn-danger">
                        ‚ùå Zru≈°it
                    </button>
                </div>
                
                <div class="matchmaking-animation">
                    <div class="search-radar">
                        <div class="radar-sweep"></div>
                        <div class="radar-dot dot-1"></div>
                        <div class="radar-dot dot-2"></div>
                        <div class="radar-dot dot-3"></div>
                    </div>
                </div>
                
                <div class="matchmaking-info">
                    <div class="search-status">
                        <span id="searchStatus">P≈ôipojov√°n√≠ k serveru...</span>
                    </div>
                    <div class="search-stats">
                        <span>‚è±Ô∏è ƒåas hled√°n√≠: <span id="searchTime">0:00</span></span>
                        <span>üë• Hr√°ƒçi online: <span id="onlineCount">--</span></span>
                    </div>
                    <div class="search-tips">
                        <h4>üí° Tipy bƒõhem ƒçek√°n√≠:</h4>
                        <ul id="searchTips">
                            <li>P≈ôipravte si kl√°vesov√© zkratky A, B, C pro rychl√© odpov√≠d√°n√≠</li>
                            <li>Rychlost odpovƒõdi ovliv≈àuje koneƒçn√© sk√≥re</li>
                            <li>P≈ôi stejn√©m poƒçtu spr√°vn√Ωch odpovƒõd√≠ vyhr√°v√° rychlej≈°√≠ hr√°ƒç</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Battle Arena -->
        <section class="battle-arena" id="battleArena" style="display: none;">
            
            <!-- Battle Header -->
            <div class="battle-header">
                <div class="battle-timer">
                    <div class="timer-circle">
                        <span id="battleTimeRemaining">5:00</span>
                    </div>
                </div>
                
                <div class="battle-info">
                    <div class="battle-mode">‚öîÔ∏è Rychl√Ω Souboj</div>
                    <div class="question-progress">
                        <span id="battleQuestionCounter">Ot√°zka 1/10</span>
                    </div>
                </div>
                
                <div class="battle-actions">
                    <button id="surrenderBtn" class="btn btn-small btn-danger">
                        üè≥Ô∏è Vzd√°t se
                    </button>
                </div>
            </div>

            <!-- Players Display -->
            <div class="players-section">
                <div class="player-card player-you">
                    <div class="player-header">
                        <div class="player-avatar">üë§</div>
                        <div class="player-info">
                            <div class="player-name" id="yourName">Vy</div>
                            <div class="player-rank" id="yourRank">Rank: Bronze</div>
                        </div>
                    </div>
                    <div class="player-stats">
                        <div class="stat">
                            <span class="stat-value" id="yourScore">0</span>
                            <span class="stat-label">Sk√≥re</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="yourCorrect">0</span>
                            <span class="stat-label">Spr√°vnƒõ</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="yourStreak">0</span>
                            <span class="stat-label">S√©rie</span>
                        </div>
                    </div>
                    <div class="player-status">
                        <div id="yourStatus" class="status-indicator ready">P≈ôipraven</div>
                    </div>
                </div>

                <div class="vs-indicator">
                    <div class="vs-text">VS</div>
                    <div class="vs-lightning">‚ö°</div>
                </div>

                <div class="player-card player-opponent">
                    <div class="player-header">
                        <div class="player-avatar">üéØ</div>
                        <div class="player-info">
                            <div class="player-name" id="opponentName">Protivn√≠k</div>
                            <div class="player-rank" id="opponentRank">Rank: Silver</div>
                        </div>
                    </div>
                    <div class="player-stats">
                        <div class="stat">
                            <span class="stat-value" id="opponentScore">0</span>
                            <span class="stat-label">Sk√≥re</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="opponentCorrect">0</span>
                            <span class="stat-label">Spr√°vnƒõ</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="opponentStreak">0</span>
                            <span class="stat-label">S√©rie</span>
                        </div>
                    </div>
                    <div class="player-status">
                        <div id="opponentStatus" class="status-indicator ready">P≈ôipraven</div>
                    </div>
                </div>
            </div>

            <!-- Question Section -->
            <div class="question-section">
                <div class="question-header">
                    <h3>üìù Ot√°zka</h3>
                    <div class="question-difficulty">
                        <span id="questionDifficulty" class="difficulty-badge easy">SNADN√Å</span>
                    </div>
                </div>
                
                <div class="question-content">
                    <p id="battleQuestionText" class="question-text">
                        P≈ô√≠prava souboje...
                    </p>
                </div>
            </div>

            <!-- Answers Section -->
            <div class="answers-section">
                <div class="answers-grid">
                    <button id="battleAnswerA" class="battle-answer" data-letter="A" disabled>
                        <span class="answer-letter">A</span>
                        <span class="answer-text">Odpovƒõƒè A</span>
                        <div class="answer-feedback"></div>
                    </button>
                    
                    <button id="battleAnswerB" class="battle-answer" data-letter="B" disabled>
                        <span class="answer-letter">B</span>
                        <span class="answer-text">Odpovƒõƒè B</span>
                        <div class="answer-feedback"></div>
                    </button>
                    
                    <button id="battleAnswerC" class="battle-answer" data-letter="C" disabled>
                        <span class="answer-letter">C</span>
                        <span class="answer-text">Odpovƒõƒè C</span>
                        <div class="answer-feedback"></div>
                    </button>
                </div>
                
                <!-- Battle Controls -->
                <div class="battle-controls">
                    <div class="response-timer">
                        <div class="timer-bar">
                            <div id="responseTimeBar" class="timer-fill"></div>
                        </div>
                        <span id="responseTimeText">15s</span>
                    </div>
                    
                    <div class="keyboard-hint">
                        ‚å®Ô∏è Kl√°vesy A, B, C pro rychl√© odpov√≠d√°n√≠
                    </div>
                </div>
            </div>

            <!-- Live Feed -->
            <div class="live-feed">
                <h4>üì¢ Live Koment√°≈ô</h4>
                <div id="liveFeedMessages" class="feed-messages">
                    <div class="feed-message system">
                        <span class="timestamp">00:00</span>
                        <span class="message">Souboj zaƒç√≠n√°! Hodnƒõ ≈°tƒõst√≠!</span>
                    </div>
                </div>
            </div>

        </section>

        <!-- Battle Results -->
        <section class="battle-results" id="battleResults" style="display: none;">
            <div class="results-container">
                
                <!-- Victory/Defeat Banner -->
                <div id="resultBanner" class="result-banner victory">
                    <div class="banner-icon">üèÜ</div>
                    <div class="banner-text">
                        <h2 id="resultTitle">V√çTƒöZSTV√ç!</h2>
                        <p id="resultSubtitle">Skvƒõl√° pr√°ce! Porazili jste protivn√≠ka.</p>
                    </div>
                </div>

                <!-- Final Scores -->
                <div class="final-scores">
                    <div class="score-comparison">
                        <div class="your-final-score">
                            <div class="score-header">
                                <h3>üë§ Va≈°e v√Ωsledky</h3>
                            </div>
                            <div class="score-stats">
                                <div class="main-score" id="yourFinalScore">1250</div>
                                <div class="score-breakdown">
                                    <span>‚úÖ Spr√°vnƒõ: <span id="yourFinalCorrect">8</span></span>
                                    <span>‚ùå ≈†patnƒõ: <span id="yourFinalWrong">2</span></span>
                                    <span>‚ö° Avg. ƒças: <span id="yourAvgTime">3.2s</span></span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="opponent-final-score">
                            <div class="score-header">
                                <h3>üéØ Protivn√≠k</h3>
                            </div>
                            <div class="score-stats">
                                <div class="main-score" id="opponentFinalScore">980</div>
                                <div class="score-breakdown">
                                    <span>‚úÖ Spr√°vnƒõ: <span id="opponentFinalCorrect">6</span></span>
                                    <span>‚ùå ≈†patnƒõ: <span id="opponentFinalWrong">4</span></span>
                                    <span>‚ö° Avg. ƒças: <span id="opponentAvgTime">4.8s</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rewards & Rating Changes -->
                <div class="rewards-section">
                    <h3>üéÅ Odmƒõny</h3>
                    <div class="rewards-grid">
                        <div class="reward-item">
                            <div class="reward-icon">‚≠ê</div>
                            <div class="reward-info">
                                <span class="reward-name">Rating</span>
                                <span class="reward-value" id="ratingChange">+25</span>
                            </div>
                        </div>
                        <div class="reward-item">
                            <div class="reward-icon">üíé</div>
                            <div class="reward-info">
                                <span class="reward-name">XP</span>
                                <span class="reward-value" id="xpGained">+150</span>
                            </div>
                        </div>
                        <div class="reward-item">
                            <div class="reward-icon">üèÜ</div>
                            <div class="reward-info">
                                <span class="reward-name">Achievement</span>
                                <span class="reward-value" id="achievementEarned">S√©rie 5</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Battle Review -->
                <div class="battle-review">
                    <h3>üìä P≈ôehled Souboje</h3>
                    <div id="questionReview" class="question-review-list">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="results-actions">
                    <button id="rematchBtn" class="btn btn-primary">
                        üîÑ Odveta
                    </button>
                    <button id="newBattleBtn" class="btn btn-secondary">
                        ‚öîÔ∏è Nov√Ω Souboj
                    </button>
                    <button id="shareResultBtn" class="btn btn-secondary">
                        üì§ Sd√≠let V√Ωsledek
                    </button>
                    <button id="backToMenuBtn" class="btn btn-secondary">
                        üè† Zpƒõt do Menu
                    </button>
                </div>

            </div>
        </section>

    </main>

    <!-- Custom Room Modal -->
    <div id="customRoomModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üèóÔ∏è Vytvo≈ôit Vlastn√≠ M√≠stnost</h3>
                <button class="modal-close" onclick="closeModal('customRoomModal')">√ó</button>
            </div>
            
            <form id="customRoomForm" class="modal-body">
                <div class="form-group">
                    <label for="roomName">üìõ N√°zev m√≠stnosti:</label>
                    <input type="text" id="roomName" class="form-input" placeholder="M≈Øj Epic Souboj">
                </div>
                
                <div class="form-group">
                    <label for="roomPassword">üîí Heslo (voliteln√©):</label>
                    <input type="password" id="roomPassword" class="form-input" placeholder="Ponechte pr√°zdn√© pro ve≈ôejnou m√≠stnost">
                </div>
                
                <div class="form-group">
                    <label for="maxPlayers">üë• Maximum hr√°ƒç≈Ø:</label>
                    <select id="maxPlayers" class="form-select">
                        <option value="2" selected>2 hr√°ƒçi (1v1)</option>
                        <option value="4">4 hr√°ƒçi (Battle Royale)</option>
                        <option value="8">8 hr√°ƒç≈Ø (Tournament)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="battleMode">‚öîÔ∏è Hern√≠ re≈æim:</label>
                    <select id="battleMode" class="form-select">
                        <option value="classic" selected>Klasick√Ω (prvn√≠ na 10 spr√°vn√Ωch)</option>
                        <option value="timed">ƒåasov√Ω (5 minut)</option>
                        <option value="elimination">Eliminaƒçn√≠ (vypad√°v√°n√≠)</option>
                        <option value="survival">Survival (nekoneƒçn√Ω)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="questionCategory">üìö Kategorie ot√°zek:</label>
                    <select id="questionCategory" class="form-select">
                        <option value="all" selected>V≈°echny kategorie</option>
                        <option value="programming">Programov√°n√≠</option>
                        <option value="science">Vƒõda</option>
                        <option value="history">Historie</option>
                        <option value="custom">Vlastn√≠ sada</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="difficultyLevel">üìä √örove≈à obt√≠≈ænosti:</label>
                    <select id="difficultyLevel" class="form-select">
                        <option value="mixed" selected>Sm√≠≈°en√°</option>
                        <option value="easy">Snadn√°</option>
                        <option value="medium">St≈ôedn√≠</option>
                        <option value="hard">Tƒõ≈æk√°</option>
                    </select>
                </div>
                
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="allowSpectators" checked>
                        <span class="checkmark"></span>
                        Povolit div√°ky
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="showLiveStats" checked>
                        <span class="checkmark"></span>
                        Zobrazovat ≈æiv√© statistiky
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="recordBattle">
                        <span class="checkmark"></span>
                        Nahr√°vat souboj pro replay
                    </label>
                </div>
            </form>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('customRoomModal')">
                    Zru≈°it
                </button>
                <button id="createCustomRoomBtn" class="btn btn-primary">
                    üöÄ Vytvo≈ôit M√≠stnost
                </button>
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboardModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>üèÜ ≈Ωeb≈ô√≠ƒçek Nejlep≈°√≠ch</h3>
                <button class="modal-close" onclick="closeModal('leaderboardModal')">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="leaderboard-tabs">
                    <button class="tab-button active" data-tab="global">üåç Glob√°ln√≠</button>
                    <button class="tab-button" data-tab="weekly">üìÖ T√Ωdenn√≠</button>
                    <button class="tab-button" data-tab="friends">üë• P≈ô√°tel√©</button>
                </div>
                
                <div class="leaderboard-content">
                    <div id="globalTab" class="tab-content active">
                        <div class="leaderboard-table">
                            <div class="table-header">
                                <span>Pozice</span>
                                <span>Hr√°ƒç</span>
                                <span>Rating</span>
                                <span>W/L</span>
                                <span>S√©rie</span>
                            </div>
                            <div id="globalLeaderboard" class="table-body">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="weeklyTab" class="tab-content">
                        <div class="leaderboard-table">
                            <div class="table-header">
                                <span>Pozice</span>
                                <span>Hr√°ƒç</span>
                                <span>Body tento t√Ωden</span>
                                <span>Souboje</span>
                                <span>Winrate</span>
                            </div>
                            <div id="weeklyLeaderboard" class="table-body">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="friendsTab" class="tab-content">
                        <div class="friends-leaderboard">
                            <div class="add-friend-section">
                                <input type="text" id="friendSearchInput" class="form-input" placeholder="Hledat p≈ô√≠tele podle jm√©na...">
                                <button id="addFriendBtn" class="btn btn-primary">
                                    ‚ûï P≈ôidat
                                </button>
                            </div>
                            <div id="friendsLeaderboard" class="friends-list">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tournament Browser Modal -->
    <div id="tournamentModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>üèÖ Aktivn√≠ Turnaje</h3>
                <button class="modal-close" onclick="closeModal('tournamentModal')">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="tournament-filters">
                    <select id="tournamentFilter" class="form-select">
                        <option value="all">V≈°echny turnaje</option>
                        <option value="starting-soon">Zaƒç√≠naj√≠ brzy</option>
                        <option value="in-progress">Prob√≠haj√≠c√≠</option>
                        <option value="registration">Registrace otev≈ôena</option>
                    </select>
                </div>
                
                <div id="tournamentList" class="tournament-list">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <!-- API Test Section (for debugging) -->
    <div style="position: fixed; bottom: 10px; right: 10px; z-index: 1000; background: rgba(40, 44, 52, 0.95); border: 1px solid #61dafb; border-radius: 8px; padding: 10px; font-family: 'Segoe UI', sans-serif; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
            <div class="status-indicator" id="battleStatusIndicator" style="padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold;">üîç API Status</div>
            <button id="testBattleBtn" style="background: #61dafb; color: #282c34; border: none; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; cursor: pointer;">üß™ Test API</button>
        </div>
        <div id="testBattleResults" style="display: none; max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 10px; color: #e4e4e4; line-height: 1.4;"></div>
    </div>

    <!-- Scripts -->
    <script src="../../shared/logger.js"></script>
    <script src="../../shared/api-client.js?v=20250807-battle-logger-fixed"></script>
    <script src="../../shared/navigation.js"></script>
    <script src="battle.js"></script>
</body>
</html>
